{% extends "base.html" %}

{% block title %}{{ title }} - {{ super() }}{% endblock %}

{% block content %}
    <h1>{{ title }}</h1>
    {% if posts and posts.items %} {# Adjust if not using pagination, then just 'if posts' #}
        {% for post in posts.items %} {# posts.items with pagination #}
            <article>
                <h2>{{ post.title }}</h2>
                <p><small>Posted on: {{ post.created_at.strftime('%Y-%m-%d %H:%M') }}</small></p>
                {# Display full content or an excerpt #}
                <div>{{ post.content | safe }}</div> {# Use |safe if content contains HTML you trust #}
                {# <a href="#">Read more...</a> {# You might link to a full post view later #}
            </article>
            <hr>
        {% endfor %}
    {% else %}
        <p>No blog posts yet. Check back soon!</p>
    {% endif %}

    {# Pagination links (optional, but good for many posts) #}
    {% if posts and posts.has_prev %}
        <a href="{{ url_for('main.blog', page=posts.prev_num) }}">&laquo; Newer posts</a>
    {% endif %}
    {% if posts and posts.has_next %}
        <a href="{{ url_for('main.blog', page=posts.next_num) }}">Older posts &raquo;</a>
    {% endif %}
{% endblock %}